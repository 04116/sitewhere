description = 'SiteWhere Core Library'

configurations {
    compile.exclude module: 'spring-boot-starter-logging'
}

dependencies {
    compile project(':sitewhere-core-api')
    compile project(':sitewhere-server-api')
     
    compile group: 'org.springframework', name: 'spring-core'
    compile group: 'org.springframework', name: 'spring-beans'
    compile group: 'org.springframework', name: 'spring-context'
    compile group: 'org.springframework', name: 'spring-context-support'
    compile group: 'org.springframework.security', name: 'spring-security-config'
    compile group: 'org.springframework.security', name: 'spring-security-core'
    
	compile ('org.springframework.boot:spring-boot-starter')
	compile ('org.springframework.boot:spring-boot-starter-log4j2')
    
    compile group: 'org.apache.kafka', name: 'kafka_2.11', version: "${rootProject.ext['kafka.version']}"
    compile group: 'org.apache.kafka', name: 'kafka-clients', version: "${rootProject.ext['kafka.version']}"
    compile group: 'org.apache.zookeeper', name: 'zookeeper', version: "${rootProject.ext['zookeeper.version']}"
    
    compile group: 'com.fasterxml.jackson.core', name: 'jackson-core'
    compile group: 'com.fasterxml.jackson.core', name: 'jackson-databind'
    compile group: 'com.fasterxml.jackson.core', name: 'jackson-annotations'
    compile group: 'com.github.kenglxn.qrgen', name: 'javase', version:'2.1.0'
    compile group: 'org.quartz-scheduler', name: 'quartz', version:'2.2.2'
    compile group: 'com.google', name: 'bitcoinj', version:'0.11.3'
    compile group: 'joda-time', name: 'joda-time', version:'2.9.1'
    
    compile group: 'commons-lang', name: 'commons-lang'
    compile group: 'commons-collections', name: 'commons-collections'
    compile group: 'commons-io', name: 'commons-io'
}

processResources {
    from(sourceSets.main.resources.srcDirs) {
        include '**/*.properties'
        filter(org.apache.tools.ant.filters.ReplaceTokens, tokens: [
            'build.timestamp': new java.text.SimpleDateFormat('yyyyMMddHHmmss').format(new Date()),
            'version.identifier'    : project.version
        ])
    }
}