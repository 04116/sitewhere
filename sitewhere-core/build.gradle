description = 'SiteWhere Core Library'

configurations {
    compile.exclude module: 'spring-boot-starter-logging'
    compile.exclude module: 'spring-boot-autoconfigure'
}

dependencies {
    compile project(':sitewhere-core-lifecycle')
    compile project(':sitewhere-server-api')
     
    compile group: 'org.springframework', name: 'spring-core'
    compile group: 'org.springframework', name: 'spring-beans'
    compile group: 'org.springframework', name: 'spring-context'
    compile group: 'org.springframework', name: 'spring-context-support'
    
	compile ('org.springframework.boot:spring-boot-starter')
	compile ('org.springframework.boot:spring-boot-starter-log4j2')
    
    compile group: 'com.fasterxml.jackson.core', name: 'jackson-core'
    compile group: 'com.fasterxml.jackson.core', name: 'jackson-databind'
    compile group: 'com.fasterxml.jackson.core', name: 'jackson-annotations'
    
    compile group: 'commons-lang', name: 'commons-lang'
    compile group: 'commons-collections', name: 'commons-collections'
    compile group: 'commons-io', name: 'commons-io'
    
    // Geolocation classes made available to scripts.
	compile group: 'com.vividsolutions', name: 'jts', version:'1.13'
}

processResources {
    from(sourceSets.main.resources.srcDirs) {
        include '**/*.properties'
        filter(org.apache.tools.ant.filters.ReplaceTokens, tokens: [
            'build.timestamp': new java.text.SimpleDateFormat('yyyyMMddHHmmss').format(new Date()),
            'version.identifier'    : project.version
        ])
    }
}