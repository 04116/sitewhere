{"apiVersion":"1.0","swaggerVersion":"1.2","basePath":"/sitewhere/api","resourcePath":"/devices","apis":[{"path":"/devices","description":"listDevices","operations":[{"method":"GET","summary":"List devices that match certain criteria","notes":"listDevices","type":"ISearchResults«IDevice»","nickname":"listDevices","parameters":[{"name":"includeDeleted","description":"Include deleted devices","defaultValue":"false","required":false,"type":"boolean","paramType":"query","allowMultiple":false},{"name":"excludeAssigned","description":"Exclude assigned devices","defaultValue":"false","required":false,"type":"boolean","paramType":"query","allowMultiple":false},{"name":"includeSpecification","description":"Include specification information","defaultValue":"false","required":false,"type":"boolean","paramType":"query","allowMultiple":false},{"name":"includeAssignment","description":"Include assignment information if associated","defaultValue":"false","required":false,"type":"boolean","paramType":"query","allowMultiple":false},{"name":"page","description":"Page Number (First page is 1)","defaultValue":"1","required":false,"type":"integer","format":"int32","paramType":"query","allowMultiple":false},{"name":"pageSize","description":"Page size","defaultValue":"100","required":false,"type":"integer","format":"int32","paramType":"query","allowMultiple":false},{"name":"startDate","description":"Start date","defaultValue":"","required":false,"type":"string","format":"date-time","paramType":"query","allowMultiple":false},{"name":"endDate","description":"End date","defaultValue":"","required":false,"type":"string","format":"date-time","paramType":"query","allowMultiple":false}],"responseMessages":[{"code":200,"message":"OK","responseModel":"ISearchResults«IDevice»"},{"code":403,"message":"Forbidden"},{"code":401,"message":"Unauthorized"},{"code":404,"message":"Not Found"}],"deprecated":"false"}]},{"path":"/devices","description":"createDevice","operations":[{"method":"POST","summary":"Create a new device","notes":"createDevice","type":"IDevice","nickname":"createDevice","parameters":[{"name":"request","description":"request","defaultValue":"","required":false,"type":"DeviceCreateRequest","paramType":"body","allowMultiple":false}],"responseMessages":[{"code":201,"message":"Created"},{"code":200,"message":null,"responseModel":"IDevice"},{"code":403,"message":"Forbidden"},{"code":401,"message":"Unauthorized"},{"code":404,"message":"Not Found"}],"deprecated":"false"}]},{"path":"/devices/group/{groupToken}","description":"listDevicesForGroup","operations":[{"method":"GET","summary":"List devices that belong to a given group","notes":"listDevicesForGroup","type":"ISearchResults«IDevice»","nickname":"listDevicesForGroup","parameters":[{"name":"groupToken","description":"Group token","defaultValue":"","required":true,"type":"string","paramType":"path","allowMultiple":false},{"name":"specification","description":"Specification token","defaultValue":"","required":false,"type":"string","paramType":"query","allowMultiple":false},{"name":"includeDeleted","description":"Include deleted devices","defaultValue":"false","required":false,"type":"boolean","paramType":"query","allowMultiple":false},{"name":"excludeAssigned","description":"Exclude assigned devices","defaultValue":"false","required":false,"type":"boolean","paramType":"query","allowMultiple":false},{"name":"includeSpecification","description":"Include specification information","defaultValue":"false","required":false,"type":"boolean","paramType":"query","allowMultiple":false},{"name":"includeAssignment","description":"Include assignment information if associated","defaultValue":"false","required":false,"type":"boolean","paramType":"query","allowMultiple":false},{"name":"page","description":"Page Number (First page is 1)","defaultValue":"1","required":false,"type":"integer","format":"int32","paramType":"query","allowMultiple":false},{"name":"pageSize","description":"Page size","defaultValue":"100","required":false,"type":"integer","format":"int32","paramType":"query","allowMultiple":false},{"name":"startDate","description":"Start date","defaultValue":"","required":false,"type":"string","format":"date-time","paramType":"query","allowMultiple":false},{"name":"endDate","description":"End date","defaultValue":"","required":false,"type":"string","format":"date-time","paramType":"query","allowMultiple":false}],"responseMessages":[{"code":200,"message":"OK","responseModel":"ISearchResults«IDevice»"},{"code":403,"message":"Forbidden"},{"code":401,"message":"Unauthorized"},{"code":404,"message":"Not Found"}],"deprecated":"false"}]},{"path":"/devices/grouprole/{role}","description":"listDevicesForGroupsWithRole","operations":[{"method":"GET","summary":"List devices that belong to a groups with a given role","notes":"listDevicesForGroupsWithRole","type":"ISearchResults«IDevice»","nickname":"listDevicesForGroupsWithRole","parameters":[{"name":"role","description":"Group role","defaultValue":"","required":true,"type":"string","paramType":"path","allowMultiple":false},{"name":"specification","description":"Specification token","defaultValue":"","required":false,"type":"string","paramType":"query","allowMultiple":false},{"name":"includeDeleted","description":"Include deleted devices","defaultValue":"false","required":false,"type":"boolean","paramType":"query","allowMultiple":false},{"name":"excludeAssigned","description":"Exclude assigned devices","defaultValue":"false","required":false,"type":"boolean","paramType":"query","allowMultiple":false},{"name":"includeSpecification","description":"Include specification information","defaultValue":"false","required":false,"type":"boolean","paramType":"query","allowMultiple":false},{"name":"includeAssignment","description":"Include assignment information if associated","defaultValue":"false","required":false,"type":"boolean","paramType":"query","allowMultiple":false},{"name":"page","description":"Page Number (First page is 1)","defaultValue":"1","required":false,"type":"integer","format":"int32","paramType":"query","allowMultiple":false},{"name":"pageSize","description":"Page size","defaultValue":"100","required":false,"type":"integer","format":"int32","paramType":"query","allowMultiple":false},{"name":"startDate","description":"Start date","defaultValue":"","required":false,"type":"string","format":"date-time","paramType":"query","allowMultiple":false},{"name":"endDate","description":"End date","defaultValue":"","required":false,"type":"string","format":"date-time","paramType":"query","allowMultiple":false}],"responseMessages":[{"code":200,"message":"OK","responseModel":"ISearchResults«IDevice»"},{"code":403,"message":"Forbidden"},{"code":401,"message":"Unauthorized"},{"code":404,"message":"Not Found"}],"deprecated":"false"}]},{"path":"/devices/specification/{specificationToken}","description":"listDevicesForSpecification","operations":[{"method":"GET","summary":"List devices that use a given specification","notes":"listDevicesForSpecification","type":"ISearchResults«IDevice»","nickname":"listDevicesForSpecification","parameters":[{"name":"specificationToken","description":"Specification token","defaultValue":"","required":true,"type":"string","paramType":"path","allowMultiple":false},{"name":"includeDeleted","description":"Include deleted devices","defaultValue":"false","required":false,"type":"boolean","paramType":"query","allowMultiple":false},{"name":"excludeAssigned","description":"Exclude assigned devices","defaultValue":"false","required":false,"type":"boolean","paramType":"query","allowMultiple":false},{"name":"includeSpecification","description":"Include specification information","defaultValue":"false","required":false,"type":"boolean","paramType":"query","allowMultiple":false},{"name":"includeAssignment","description":"Include assignment information if associated","defaultValue":"false","required":false,"type":"boolean","paramType":"query","allowMultiple":false},{"name":"page","description":"Page Number (First page is 1)","defaultValue":"1","required":false,"type":"integer","format":"int32","paramType":"query","allowMultiple":false},{"name":"pageSize","description":"Page size","defaultValue":"100","required":false,"type":"integer","format":"int32","paramType":"query","allowMultiple":false},{"name":"startDate","description":"Start date","defaultValue":"","required":false,"type":"string","format":"date-time","paramType":"query","allowMultiple":false},{"name":"endDate","description":"End date","defaultValue":"","required":false,"type":"string","format":"date-time","paramType":"query","allowMultiple":false}],"responseMessages":[{"code":200,"message":"OK","responseModel":"ISearchResults«IDevice»"},{"code":403,"message":"Forbidden"},{"code":401,"message":"Unauthorized"},{"code":404,"message":"Not Found"}],"deprecated":"false"}]},{"path":"/devices/{hardwareId}","description":"getDeviceByHardwareId","operations":[{"method":"GET","summary":"Get a device by unique hardware id","notes":"getDeviceByHardwareId","type":"IDevice","nickname":"getDeviceByHardwareId","parameters":[{"name":"hardwareId","description":"Hardware id","defaultValue":"","required":true,"type":"string","paramType":"path","allowMultiple":false},{"name":"includeSpecification","description":"Include specification information","defaultValue":"true","required":true,"type":"boolean","paramType":"query","allowMultiple":false},{"name":"includeAssignment","description":"Include assignment if associated","defaultValue":"true","required":true,"type":"boolean","paramType":"query","allowMultiple":false},{"name":"includeSite","description":"Include site information","defaultValue":"true","required":true,"type":"boolean","paramType":"query","allowMultiple":false},{"name":"includeAsset","description":"Include detailed asset information","defaultValue":"true","required":true,"type":"boolean","paramType":"query","allowMultiple":false},{"name":"includeNested","description":"Include detailed nested device information","defaultValue":"false","required":true,"type":"boolean","paramType":"query","allowMultiple":false}],"responseMessages":[{"code":200,"message":"OK","responseModel":"IDevice"},{"code":403,"message":"Forbidden"},{"code":401,"message":"Unauthorized"},{"code":404,"message":"Not Found"}],"deprecated":"false"}]},{"path":"/devices/{hardwareId}","description":"updateDevice","operations":[{"method":"PUT","summary":"Update device information","notes":"updateDevice","type":"IDevice","nickname":"updateDevice","parameters":[{"name":"hardwareId","description":"Hardware id","defaultValue":"","required":true,"type":"string","paramType":"path","allowMultiple":false},{"name":"request","description":"request","defaultValue":"","required":false,"type":"DeviceCreateRequest","paramType":"body","allowMultiple":false}],"responseMessages":[{"code":201,"message":"Created"},{"code":200,"message":null,"responseModel":"IDevice"},{"code":403,"message":"Forbidden"},{"code":401,"message":"Unauthorized"},{"code":404,"message":"Not Found"}],"deprecated":"false"}]},{"path":"/devices/{hardwareId}","description":"deleteDevice","operations":[{"method":"DELETE","summary":"Delete a device based on unique hardware id","notes":"deleteDevice","type":"IDevice","nickname":"deleteDevice","parameters":[{"name":"hardwareId","description":"Hardware id","defaultValue":"","required":true,"type":"string","paramType":"path","allowMultiple":false},{"name":"force","description":"Delete permanently","defaultValue":"false","required":true,"type":"boolean","paramType":"query","allowMultiple":false}],"responseMessages":[{"code":204,"message":"No Content"},{"code":200,"message":null,"responseModel":"IDevice"},{"code":403,"message":"Forbidden"},{"code":401,"message":"Unauthorized"}],"deprecated":"false"}]},{"path":"/devices/{hardwareId}/assignment","description":"getDeviceCurrentAssignment","operations":[{"method":"GET","summary":"Get the current assignment for a device","notes":"getDeviceCurrentAssignment","type":"IDeviceAssignment","nickname":"getDeviceCurrentAssignment","parameters":[{"name":"hardwareId","description":"Hardware id","defaultValue":"","required":true,"type":"string","paramType":"path","allowMultiple":false},{"name":"includeAsset","description":"Include detailed asset information","defaultValue":"true","required":true,"type":"boolean","paramType":"query","allowMultiple":false},{"name":"includeDevice","description":"Include detailed device information","defaultValue":"false","required":true,"type":"boolean","paramType":"query","allowMultiple":false},{"name":"includeSite","description":"Include detailed site information","defaultValue":"true","required":true,"type":"boolean","paramType":"query","allowMultiple":false}],"responseMessages":[{"code":200,"message":"OK","responseModel":"IDeviceAssignment"},{"code":403,"message":"Forbidden"},{"code":401,"message":"Unauthorized"},{"code":404,"message":"Not Found"}],"deprecated":"false"}]},{"path":"/devices/{hardwareId}/assignments","description":"listDeviceAssignmentHistory","operations":[{"method":"GET","summary":"Get assignment history for a device","notes":"listDeviceAssignmentHistory","type":"ISearchResults«IDeviceAssignment»","nickname":"listDeviceAssignmentHistory","parameters":[{"name":"hardwareId","description":"Hardware id","defaultValue":"","required":true,"type":"string","paramType":"path","allowMultiple":false},{"name":"includeAsset","description":"Include detailed asset information","defaultValue":"false","required":true,"type":"boolean","paramType":"query","allowMultiple":false},{"name":"includeDevice","description":"Include detailed device information","defaultValue":"false","required":true,"type":"boolean","paramType":"query","allowMultiple":false},{"name":"includeSite","description":"Include detailed site information","defaultValue":"false","required":true,"type":"boolean","paramType":"query","allowMultiple":false},{"name":"page","description":"Page Number (First page is 1)","defaultValue":"1","required":true,"type":"integer","format":"int32","paramType":"query","allowMultiple":false},{"name":"pageSize","description":"Page size","defaultValue":"100","required":true,"type":"integer","format":"int32","paramType":"query","allowMultiple":false}],"responseMessages":[{"code":200,"message":"OK","responseModel":"ISearchResults«IDeviceAssignment»"},{"code":403,"message":"Forbidden"},{"code":401,"message":"Unauthorized"},{"code":404,"message":"Not Found"}],"deprecated":"false"}]},{"path":"/devices/{hardwareId}/batch","description":"addDeviceEventBatch","operations":[{"method":"POST","summary":"Send a batch of events for the current assignment of the given device.","notes":"addDeviceEventBatch","type":"IDeviceEventBatchResponse","nickname":"addDeviceEventBatch","parameters":[{"name":"hardwareId","description":"Hardware id","defaultValue":"","required":true,"type":"string","paramType":"path","allowMultiple":false},{"name":"batch","description":"batch","defaultValue":"","required":false,"type":"DeviceEventBatch","paramType":"body","allowMultiple":false}],"responseMessages":[{"code":201,"message":"Created"},{"code":200,"message":null,"responseModel":"IDeviceEventBatchResponse"},{"code":403,"message":"Forbidden"},{"code":401,"message":"Unauthorized"},{"code":404,"message":"Not Found"}],"deprecated":"false"}]},{"path":"/devices/{hardwareId}/mappings","description":"deleteDeviceElementMapping","operations":[{"method":"DELETE","summary":"Delete an existing device element mapping","notes":"deleteDeviceElementMapping","type":"IDevice","nickname":"deleteDeviceElementMapping","parameters":[{"name":"hardwareId","description":"Hardware id","defaultValue":"","required":true,"type":"string","paramType":"path","allowMultiple":false},{"name":"path","description":"Device element path","defaultValue":"","required":true,"type":"string","paramType":"query","allowMultiple":false}],"responseMessages":[{"code":204,"message":"No Content"},{"code":200,"message":null,"responseModel":"IDevice"},{"code":403,"message":"Forbidden"},{"code":401,"message":"Unauthorized"}],"deprecated":"false"}]},{"path":"/devices/{hardwareId}/mappings","description":"addDeviceElementMapping","operations":[{"method":"POST","summary":"Create a new device element mapping","notes":"addDeviceElementMapping","type":"IDevice","nickname":"addDeviceElementMapping","parameters":[{"name":"hardwareId","description":"Hardware id","defaultValue":"","required":true,"type":"string","paramType":"path","allowMultiple":false},{"name":"request","description":"request","defaultValue":"","required":false,"type":"DeviceElementMapping","paramType":"body","allowMultiple":false}],"responseMessages":[{"code":201,"message":"Created"},{"code":200,"message":null,"responseModel":"IDevice"},{"code":403,"message":"Forbidden"},{"code":401,"message":"Unauthorized"},{"code":404,"message":"Not Found"}],"deprecated":"false"}]}],"models":{"IDeviceAssignmentState":{"id":"IDeviceAssignmentState","description":"","extends":"","properties":{"latestAlerts":{"type":"array","items":{"$ref":"IDeviceAlert"}},"latestMeasurements":{"type":"array","items":{"$ref":"IDeviceMeasurement"}},"lastReplyTo":{"type":"string"},"lastLocation":{"$ref":"IDeviceLocation"},"lastInteractionDate":{"$ref":"date-time"}}},"Entry«string,double»":{"id":"Entry«string,double»","description":"","extends":"","properties":{"key":{"type":"number","format":"double"}}},"DeviceEventBatch":{"id":"DeviceEventBatch","description":"","extends":"","properties":{"measurements":{"type":"array","items":{"$ref":"DeviceMeasurementsCreateRequest"}},"alerts":{"type":"array","items":{"$ref":"DeviceAlertCreateRequest"}},"locations":{"type":"array","items":{"$ref":"DeviceLocationCreateRequest"}},"hardwareId":{"type":"string"},"replyTo":{"type":"string"}}},"IDevice":{"id":"IDevice","description":"","extends":"","properties":{"status":{"type":"string","enum":["Ok","HardwareFailure","Unavailable"]},"parentHardwareId":{"type":"string"},"deviceElementMappings":{"type":"array","items":{"$ref":"IDeviceElementMapping"}},"siteToken":{"type":"string"},"hardwareId":{"type":"string"},"comments":{"type":"string"},"assignmentToken":{"type":"string"},"specificationToken":{"type":"string"},"metadata":{"$ref":"object"},"createdBy":{"type":"string"},"updatedBy":{"type":"string"},"deleted":{"type":"boolean"},"updatedDate":{"$ref":"date-time"},"createdDate":{"$ref":"date-time"}}},"DeviceElementMapping":{"id":"DeviceElementMapping","description":"","extends":"","properties":{"deviceElementSchemaPath":{"type":"string"},"device":{"$ref":"IDevice"},"hardwareId":{"type":"string"}}},"DeviceCreateRequest":{"id":"DeviceCreateRequest","description":"","extends":"","properties":{"status":{"type":"string","enum":["Ok","HardwareFailure","Unavailable"]},"specificationToken":{"type":"string"},"parentHardwareId":{"type":"string"},"deviceElementMappings":{"type":"array","items":{"$ref":"DeviceElementMapping"}},"removeParentHardwareId":{"type":"boolean"},"siteToken":{"type":"string"},"hardwareId":{"type":"string"},"comments":{"type":"string"},"metadata":{"$ref":"object"}}},"IDeviceEventBatchResponse":{"id":"IDeviceEventBatchResponse","description":"","extends":"","properties":{"createdAlerts":{"type":"array","items":{"$ref":"IDeviceAlert"}},"createdLocations":{"type":"array","items":{"$ref":"IDeviceLocation"}},"createdMeasurements":{"type":"array","items":{"$ref":"IDeviceMeasurements"}}}},"IDeviceAlert":{"id":"IDeviceAlert","description":"","extends":"","properties":{"message":{"type":"string"},"type":{"type":"string"},"level":{"type":"string","enum":["Info","Warning","Error","Critical"]},"source":{"type":"string","enum":["Device","System"]},"id":{"type":"string"},"eventType":{"type":"string","enum":["Measurements","Measurement","Location","Alert","StreamData","CommandInvocation","CommandResponse","StateChange"]},"assetId":{"type":"string"},"eventDate":{"$ref":"date-time"},"siteToken":{"type":"string"},"deviceAssignmentToken":{"type":"string"},"receivedDate":{"$ref":"date-time"},"assignmentType":{"type":"string","enum":["Unassociated","Associated"]},"assetModuleId":{"type":"string"},"metadata":{"$ref":"object"}}},"IDeviceElementMapping":{"id":"IDeviceElementMapping","description":"","extends":"","properties":{"deviceElementSchemaPath":{"type":"string"},"hardwareId":{"type":"string"}}},"IDeviceMeasurements":{"id":"IDeviceMeasurements","description":"","extends":"","properties":{"measurementsSummary":{"type":"string"},"id":{"type":"string"},"eventType":{"type":"string","enum":["Measurements","Measurement","Location","Alert","StreamData","CommandInvocation","CommandResponse","StateChange"]},"assetId":{"type":"string"},"eventDate":{"$ref":"date-time"},"siteToken":{"type":"string"},"deviceAssignmentToken":{"type":"string"},"receivedDate":{"$ref":"date-time"},"assignmentType":{"type":"string","enum":["Unassociated","Associated"]},"assetModuleId":{"type":"string"},"metadata":{"$ref":"object"},"measurements":{"type":"array","items":{"$ref":"Entry«string,double»"}}}},"DeviceMeasurementsCreateRequest":{"id":"DeviceMeasurementsCreateRequest","description":"","extends":"","properties":{"measurements":{"type":"array","items":{"$ref":"Entry«string,double»"}},"updateState":{"type":"boolean"},"eventDate":{"$ref":"date-time"},"metadata":{"$ref":"object"}}},"IDeviceMeasurement":{"id":"IDeviceMeasurement","description":"","extends":"","properties":{"id":{"type":"string"},"eventType":{"type":"string","enum":["Measurements","Measurement","Location","Alert","StreamData","CommandInvocation","CommandResponse","StateChange"]},"assetId":{"type":"string"},"eventDate":{"$ref":"date-time"},"siteToken":{"type":"string"},"deviceAssignmentToken":{"type":"string"},"receivedDate":{"$ref":"date-time"},"assignmentType":{"type":"string","enum":["Unassociated","Associated"]},"assetModuleId":{"type":"string"},"metadata":{"$ref":"object"},"name":{"type":"string"},"value":{"type":"number","format":"double"}}},"DeviceAlertCreateRequest":{"id":"DeviceAlertCreateRequest","description":"","extends":"","properties":{"level":{"type":"string","enum":["Info","Warning","Error","Critical"]},"source":{"type":"string","enum":["Device","System"]},"type":{"type":"string"},"message":{"type":"string"},"updateState":{"type":"boolean"},"eventDate":{"$ref":"date-time"},"metadata":{"$ref":"object"}}},"ISearchResults«IDeviceAssignment»":{"id":"ISearchResults«IDeviceAssignment»","description":"","extends":"","properties":{"results":{"type":"array","items":{"$ref":"IDeviceAssignment"}},"numResults":{"type":"integer","format":"int64"}}},"IDeviceLocation":{"id":"IDeviceLocation","description":"","extends":"","properties":{"latitude":{"type":"number","format":"double"},"longitude":{"type":"number","format":"double"},"elevation":{"type":"number","format":"double"},"id":{"type":"string"},"eventType":{"type":"string","enum":["Measurements","Measurement","Location","Alert","StreamData","CommandInvocation","CommandResponse","StateChange"]},"assetId":{"type":"string"},"eventDate":{"$ref":"date-time"},"siteToken":{"type":"string"},"deviceAssignmentToken":{"type":"string"},"receivedDate":{"$ref":"date-time"},"assignmentType":{"type":"string","enum":["Unassociated","Associated"]},"assetModuleId":{"type":"string"},"metadata":{"$ref":"object"}}},"IDeviceAssignment":{"id":"IDeviceAssignment","description":"","extends":"","properties":{"state":{"$ref":"IDeviceAssignmentState"},"status":{"type":"string","enum":["Active","Missing","Released"]},"releasedDate":{"$ref":"date-time"},"assetId":{"type":"string"},"token":{"type":"string"},"siteToken":{"type":"string"},"activeDate":{"$ref":"date-time"},"assignmentType":{"type":"string","enum":["Unassociated","Associated"]},"assetModuleId":{"type":"string"},"deviceHardwareId":{"type":"string"},"metadata":{"$ref":"object"},"createdBy":{"type":"string"},"updatedBy":{"type":"string"},"deleted":{"type":"boolean"},"updatedDate":{"$ref":"date-time"},"createdDate":{"$ref":"date-time"}}},"ISearchResults«IDevice»":{"id":"ISearchResults«IDevice»","description":"","extends":"","properties":{"results":{"type":"array","items":{"$ref":"IDevice"}},"numResults":{"type":"integer","format":"int64"}}},"DeviceLocationCreateRequest":{"id":"DeviceLocationCreateRequest","description":"","extends":"","properties":{"elevation":{"type":"number","format":"double"},"latitude":{"type":"number","format":"double"},"longitude":{"type":"number","format":"double"},"updateState":{"type":"boolean"},"eventDate":{"$ref":"date-time"},"metadata":{"$ref":"object"}}}}}